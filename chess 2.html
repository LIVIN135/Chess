<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Chess Game</title>
  <style>
    body {
      background-image: url('background image.jpeg');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      margin: 0;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    #chessboard {
      display: grid;
      grid-template-columns: repeat(8, 60px);
      grid-template-rows: repeat(8, 60px);
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
      border: 2px solid #333;
    }
    .square {
      width: 60px;
      height: 60px;
      font-size: 32px;
      text-align: center;
      line-height: 60px;
      font-family: "Segoe UI Symbol", "Arial Unicode MS", sans-serif;
      user-select: none;
      cursor: pointer;
    }
    .white { background-color: #eee; }
    .black { background-color: #555; }
    .selected { outline: 3px solid gold; }
  </style>
</head>
<body>
  <div id="chessboard"></div>
  <script>
    const board = document.getElementById("chessboard");
    let selectedSquare = null;
    let currentTurn = "white";

    const initialPosition = [
      ["\u265C","\u265E","\u265D","\u265B","\u265A","\u265D","\u265E","\u265C"],
      ["\u265F","\u265F","\u265F","\u265F","\u265F","\u265F","\u265F","\u265F"],
      ["","","","","","","",""],
      ["","","","","","","",""],
      ["","","","","","","",""],
      ["","","","","","","",""],
      ["\u2659","\u2659","\u2659","\u2659","\u2659","\u2659","\u2659","\u2659"],
      ["\u2656","\u2658","\u2657","\u2655","\u2654","\u2657","\u2658","\u2656"]
    ];

    let boardState = JSON.parse(JSON.stringify(initialPosition));

    function isWhite(piece) {
      return "\u2659\u2656\u2658\u2657\u2655\u2654".includes(piece);
    }
    function isBlack(piece) {
      return "\u265F\u265C\u265E\u265D\u265B\u265A".includes(piece);
    }

    function buildBoard() {
      board.innerHTML = "";
      for (let row = 0; row < 8; row++) {
        for (let col = 0; col < 8; col++) {
          const square = document.createElement("div");
          square.classList.add("square");
          square.dataset.row = row;
          square.dataset.col = col;
          if ((row + col) % 2 === 0) square.classList.add("white");
          else square.classList.add("black");
          square.textContent = boardState[row][col];
          square.addEventListener("click", handleClick);
          board.appendChild(square);
        }
      }
    }

    function handleClick(e) {
      const clicked = e.target;
      const row = parseInt(clicked.dataset.row);
      const col = parseInt(clicked.dataset.col);
      const piece = boardState[row][col];

      if (!selectedSquare) {
        if ((currentTurn === "white" && isWhite(piece)) || (currentTurn === "black" && isBlack(piece))) {
          selectedSquare = clicked;
          clicked.classList.add("selected");
        }
        return;
      }

      const fromRow = parseInt(selectedSquare.dataset.row);
      const fromCol = parseInt(selectedSquare.dataset.col);
      const toRow = row;
      const toCol = col;

      if (isLegalMove(fromRow, fromCol, toRow, toCol)) {
        boardState[toRow][toCol] = boardState[fromRow][fromCol];
        boardState[fromRow][fromCol] = "";
        currentTurn = currentTurn === "white" ? "black" : "white";
      }

      selectedSquare.classList.remove("selected");
      selectedSquare = null;
      buildBoard();
    }

    function isLegalMove(fr, fc, tr, tc) {
      const piece = boardState[fr][fc];
      const target = boardState[tr][tc];
      const abs = Math.abs;
      if ((isWhite(piece) && isWhite(target)) || (isBlack(piece) && isBlack(target))) return false;
      return true; // simplified
    }

    buildBoard();
  </script>
</body>
</html>
